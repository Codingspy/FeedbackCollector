(function(){"use strict";var e={9098:function(e,t,a){var n=a(3751),o=(a(4114),a(641)),l=a(3962),u=a(953),r=a(5220);const s={class:"bg-blue-600 text-white p-4 flex justify-between"};var c={__name:"App",setup(e){const t=(0,u.KR)(null),a=(0,l.xI)(),n=(0,r.rd)();(0,o.sV)(()=>{(0,l.hg)(a,e=>{t.value=e})});const c=async()=>{await(0,l.CI)(a),n.push("/login")};return(e,a)=>{const n=(0,o.g2)("router-link"),l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("nav",s,[a[3]||(a[3]=(0,o.Lk)("div",{class:"font-bold"},"Feedback MVP",-1)),(0,o.Lk)("div",null,[(0,o.bF)(n,{to:"/",class:"mr-4"},{default:(0,o.k6)(()=>a[0]||(a[0]=[(0,o.eW)("Home",-1)])),_:1,__:[0]}),(0,o.bF)(n,{to:"/admin",class:"mr-4"},{default:(0,o.k6)(()=>a[1]||(a[1]=[(0,o.eW)("Admin",-1)])),_:1,__:[1]}),t.value?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:c,class:"bg-red-500 px-2 py-1 rounded"},"Logout")):((0,o.uX)(),(0,o.Wv)(n,{key:1,to:"/login"},{default:(0,o.k6)(()=>a[2]||(a[2]=[(0,o.eW)("Login",-1)])),_:1,__:[2]}))])]),(0,o.bF)(l)])}}};const i=c;var d=i,v=(a(8111),a(3579),a(33)),p=a(223),b=a(8185);const g={apiKey:"AIzaSyAKaDKMyEAIeUDJGO_be5ZNRL_yQc6v3Rw",authDomain:"fir-config-c636f.firebaseapp.com",databaseURL:"https://fir-config-c636f-default-rtdb.firebaseio.com",projectId:"fir-config-c636f",storageBucket:"fir-config-c636f.firebasestorage.app",messagingSenderId:"484386280533",appId:"1:484386280533:web:2b63671d15816eeb18f0dc"},f=(0,p.Wp)(g),m=(0,b.aU)(f);var k=a(4335);const y={key:0,class:"mt-4 text-green-600"},h={key:0};var L={__name:"FeedbackForm",setup(e){const t=(0,u.KR)(""),a=(0,u.KR)(""),l=(0,u.KR)(""),r=(0,u.KR)(""),s=async()=>{try{await(0,b.gS)((0,b.rJ)(m,"feedbacks"),{name:t.value,category:a.value,message:l.value,createdAt:b.Dc.now()}),r.value="Thank you for your feedback!",t.value="",a.value="",l.value=""}catch(e){console.error("Error adding feedback: ",e)}try{const e=await k.A.post("http://127.0.0.1:5000/analyze",{text:l.value}),n=e.data.sentiment;await(0,b.gS)((0,b.rJ)(m,"feedbacks"),{name:t.value,category:a.value,message:l.value,sentiment:n,createdAt:b.Dc.now()}),r.value=`Thank you! Your feedback was marked as ${n}.`,t.value="",a.value="",l.value=""}catch(e){console.error("Error:",e)}};return(e,u)=>((0,o.uX)(),(0,o.CE)("div",null,[u[5]||(u[5]=(0,o.Lk)("h2",null,"Submit Feedback",-1)),(0,o.Lk)("form",{onSubmit:(0,n.D$)(s,["prevent"]),class:"bg-white shadow p-6 rounded max-w-lg mx-auto mt-8"},[(0,o.bo)((0,o.Lk)("input",{class:"border p-2 w-full mb-4","onUpdate:modelValue":u[0]||(u[0]=e=>t.value=e),placeholder:"Your Name",required:""},null,512),[[n.Jo,t.value]]),(0,o.bo)((0,o.Lk)("select",{class:"border p-2 w-full mb-4","onUpdate:modelValue":u[1]||(u[1]=e=>a.value=e),required:""},u[3]||(u[3]=[(0,o.Lk)("option",{disabled:"",value:""},"Select Category",-1),(0,o.Lk)("option",null,"Bug Report",-1),(0,o.Lk)("option",null,"Feature Request",-1),(0,o.Lk)("option",null,"General Suggestion",-1)]),512),[[n.u1,a.value]]),(0,o.bo)((0,o.Lk)("textarea",{class:"border p-2 w-full mb-4","onUpdate:modelValue":u[2]||(u[2]=e=>l.value=e),placeholder:"Your Feedback",required:""},null,512),[[n.Jo,l.value]]),u[4]||(u[4]=(0,o.Lk)("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded"},"Submit Feedback",-1)),r.value?((0,o.uX)(),(0,o.CE)("p",y,(0,v.v_)(r.value),1)):(0,o.Q3)("",!0)],32),r.value?((0,o.uX)(),(0,o.CE)("p",h,(0,v.v_)(r.value),1)):(0,o.Q3)("",!0)]))}},_=a(6262);const w=(0,_.A)(L,[["__scopeId","data-v-087b2b1e"]]);var C=w;a(2489),a(1701);const A={class:"summary"},E={class:"bg-gray-100 p-4 rounded"};var R={__name:"AdminDashboard",setup(e){const t=(0,u.KR)([]),a=(0,u.KR)([]),s=(0,u.KR)(""),c=async()=>{const e=(0,b.P)((0,b.rJ)(m,"feedbacks"),(0,b.My)("createdAt","desc")),n=await(0,b.GG)(e);t.value=n.docs.map(e=>({id:e.id,...e.data()})),a.value=t.value},i=()=>{s.value?a.value=t.value.filter(e=>e.category===s.value):a.value=t.value},d=(0,r.rd)(),p=async()=>{const e=(0,l.xI)();await(0,l.CI)(e),d.push("/login")},g=()=>{const e=[["Name","Category","Message","Created At"],...a.value.map(e=>[e.name,e.category,e.message,e.createdAt.toDate().toLocaleString()])];let t="data:text/csv;charset=utf-8,"+e.map(e=>e.map(e=>`"${(e||"").toString().replace(/"/g,'""')}"`).join(",")).join("\n");const n=encodeURI(t),o=document.createElement("a");o.setAttribute("href",n),o.setAttribute("download","feedbacks.csv"),document.body.appendChild(o),o.click(),document.body.removeChild(o)},f=(0,o.EW)(()=>t.value.filter(e=>"Bug Report"===e.category).length),k=(0,o.EW)(()=>t.value.filter(e=>"Feature Request"===e.category).length),y=(0,o.EW)(()=>t.value.filter(e=>"General Suggestion"===e.category).length);return(0,o.sV)(c),(e,l)=>((0,o.uX)(),(0,o.CE)("div",null,[l[6]||(l[6]=(0,o.Lk)("h2",null,"Admin Dashboard",-1)),(0,o.Lk)("div",A,[(0,o.Lk)("p",null,[l[1]||(l[1]=(0,o.Lk)("strong",null,"Total Feedbacks:",-1)),(0,o.eW)(" "+(0,v.v_)(t.value.length),1)]),(0,o.Lk)("p",null,[l[2]||(l[2]=(0,o.Lk)("strong",null,"Bug Reports:",-1)),(0,o.eW)(" "+(0,v.v_)(f.value),1)]),(0,o.Lk)("p",null,[l[3]||(l[3]=(0,o.Lk)("strong",null,"Feature Requests:",-1)),(0,o.eW)(" "+(0,v.v_)(k.value),1)]),(0,o.Lk)("p",null,[l[4]||(l[4]=(0,o.Lk)("strong",null,"General Suggestions:",-1)),(0,o.eW)(" "+(0,v.v_)(y.value),1)])]),l[7]||(l[7]=(0,o.Lk)("label",null,"Filter by Category:",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),onChange:i},l[5]||(l[5]=[(0,o.Lk)("option",{value:""},"All",-1),(0,o.Lk)("option",null,"Bug Report",-1),(0,o.Lk)("option",null,"Feature Request",-1),(0,o.Lk)("option",null,"General Suggestion",-1)]),544),[[n.u1,s.value]]),(0,o.Lk)("button",{onClick:g},"Export CSV"),(0,o.Lk)("button",{onClick:p},"Logout"),(0,o.Lk)("ul",E,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.value,e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:"border-b py-2"},[(0,o.Lk)("strong",null,(0,v.v_)(e.name),1),(0,o.eW)(" ("+(0,v.v_)(e.category)+") ["+(0,v.v_)(e.sentiment)+"]: "+(0,v.v_)(e.message),1)]))),128))])]))}};const x=(0,_.A)(R,[["__scopeId","data-v-d223cf68"]]);var S=x;const F={class:"login"},I={key:0};var K={__name:"LoginPage",setup(e){const t=(0,u.KR)(""),a=(0,u.KR)(""),s=(0,u.KR)(""),c=(0,r.rd)(),i=async()=>{const e=(0,l.xI)();try{await(0,l.x9)(e,t.value,a.value),c.push("/admin")}catch(n){s.value=n.message}};return(e,l)=>((0,o.uX)(),(0,o.CE)("div",F,[l[3]||(l[3]=(0,o.Lk)("h2",null,"Admin Login",-1)),(0,o.Lk)("form",{onSubmit:(0,n.D$)(i,["prevent"])},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),type:"email",placeholder:"Email",required:""},null,512),[[n.Jo,t.value]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>a.value=e),type:"password",placeholder:"Password",required:""},null,512),[[n.Jo,a.value]]),l[2]||(l[2]=(0,o.Lk)("button",{type:"submit"},"Login",-1)),s.value?((0,o.uX)(),(0,o.CE)("p",I,(0,v.v_)(s.value),1)):(0,o.Q3)("",!0)],32)]))}};const O=(0,_.A)(K,[["__scopeId","data-v-0c298758"]]);var W=O;const j=[{path:"/",name:"Home",component:C},{path:"/admin",name:"AdminDashboard",component:S},{path:"/login",name:"Login",component:W}],D=(0,r.aE)({history:(0,r.LA)(),routes:j});D.beforeEach((e,t,a)=>{const n=(0,l.xI)(),o=e.matched.some(e=>e.meta.requiresAuth);o?(0,l.hg)(n,e=>{e?a():a("/login")}):a()});var X=D;(0,n.Ef)(d).use(X).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,l){if(!n){var u=1/0;for(i=0;i<e.length;i++){n=e[i][0],o=e[i][1],l=e[i][2];for(var r=!0,s=0;s<n.length;s++)(!1&l||u>=l)&&Object.keys(a.O).every(function(e){return a.O[e](n[s])})?n.splice(s--,1):(r=!1,l<u&&(u=l));if(r){e.splice(i--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[n,o,l]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,l,u=n[0],r=n[1],s=n[2],c=0;if(u.some(function(t){return 0!==e[t]})){for(o in r)a.o(r,o)&&(a.m[o]=r[o]);if(s)var i=s(a)}for(t&&t(n);c<u.length;c++)l=u[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(i)},n=self["webpackChunkfeedback_mvp"]=self["webpackChunkfeedback_mvp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],function(){return a(9098)});n=a.O(n)})();
//# sourceMappingURL=app.80dc8d06.js.map